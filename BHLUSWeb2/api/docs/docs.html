<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <title>Biodiversity Heritage Library - API Version 1 Documentation</title>
</head>
<body>

<p>Biodiversity Heritage Library<br />API v1 Documentation<br />Created: April 6, 2010<br />Revised: </p>
<p>The methods documented here map directly to the Biodiversity Heritage Library (BHL) &quot;Name Services&quot; (which are documented <a href="http://docs.google.com/Doc?id=dgvjvvkz_1x5qbm3">here</a>); they accept exactly the same parameters and return exactly the same information.  The &quot;Name Services&quot; endpoints should now be considered deprecated, and if you wish to continue using those methods you should instead use the endpoints documented below.</p>
<p>These methods also exist in version 2 of the BHL API, though their signatures and return values have changed slightly.  If possible, please migrate your applications to version 2 of the API.</p>
<hr />
<p><b>*** HTTP QUERY INTERFACE ***</b></p>
<p>The HTTP query interface to the Biodiversity Heritage Library (BHL) API exposes methods for extracting data using HTTP GET requests.</p>
<p><b>AUTHENTICATION</b></p>
<p>No authentication is required for version 1 of the BHL API.</p>
<p><b>OUTPUT TYPES</b></p>
<p>Results can be returned in either XML or JSON format.  To return XML, append &amp;format=xml to the method call.  To return JSON, append &amp;format=json to the method call.  If a format is not specified, XML is returned.</p>
<p>An example of returning XML is https://www.biodiversitylibrary.org/api/httpquery.ashx?op=&lt;method&gt;...&amp;format=xml</p>
<p>An example of returning JSON is https://www.biodiversitylibrary.org/api/httpquery.ashx?op=&lt;method&gt;...&amp;format=json</p>
<p><b>CALLBACKS</b></p>
<p>If you need to capture the results of a method call with a callback function, specific the name of the callback function by appending &amp;callback=&lt;function name&gt; to the method call.</p>
<p>For example, https://www.biodiversitylibrary.org/api/httpquery.ashx?op=&lt;method&gt;...&amp;callback=&lt;function name&gt;</p>
<p><b>STATUS CODE</b></p>
<p>Each method response contains a status code that indicates the success or failure of the method call.  This code is contained in the &quot;Status&quot; field of the response.  The valid status codes are:</p>
<p>	ok - the method executed successfully<br />	error - an error occurred while executing the method; check the ErrorMessage field for details</p>
<p><b>METHODS</b></p>
<p>Specify the name of the API method being called with the &quot;op=&lt;method name&gt;&quot; argument.  For example, 
    https://www.biodiversitylibrary.org/api2/httpquery.ashx?op=&lt;method name&gt;</p>
<p><b><i>NameCount</i></b></p>
<p>	Return the number of unique names (that have been assigned NameBank identifiers) found on pages in BHL.  </p>
<p>	Example - <a href="https://www.biodiversitylibrary.org/api/docs/NameCount.xml">https://www.biodiversitylibrary.org/api/httpquery.ashx?op=NameCount&amp;startdate=10/15/2009&amp;enddate=10/31/2009</a></p>
<p>	startdate - (optional) start date of range between which to count names<br />	enddate - (optional) end date of range between which to count names</p>
<p><b><i>NameList</i></b></p>
<p>	List the unique names (that have been assigned NameBank identifiers).  By using the startrow and 	batchsize parameters appropriately, you can pull the list all at once, or in batches (i.e. 1000 names at a time).</p>
<p>	Example - <a href="https://www.biodiversitylibrary.org/api/docs/NameList.xml">https://www.biodiversitylibrary.org/api/httpquery.ashx?op=NameList&amp;startrow=1&amp;batchsize=1000&amp;startdate=10/15/2009&amp;enddate=10/31/2009</a></p>
<p>	startrow - first name to return (if are returning names in batches of 100, specify startrow=1				for the first batch, startrow=101 for the second batch, and so on<br />	batchsize - number of names to return<br />	startdate - (optional) start date of range between which to count names<br />	enddate - (optional) end date of range between which to count names</p>
<p><b><i>NameGetDetail</i></b></p>
<p>	Get basic title, item, and page metadata for each page on which the specified name appears.</p>
<p>	Example - <a href="https://www.biodiversitylibrary.org/api/docs/NameGetDetail.xml">https://www.biodiversitylibrary.org/api/httpquery.ashx?op=NameGetDetail&amp;namebankid=3501464</a></p>
<p>	namebankid - NameBank identifier for a name</p>
<p><b><i>NameSearch</i></b></p>
<p>	Search for a particular name.  Only names that have been assigned NameBank identifiers are returned.</p>
<p>	Example - <a href="https://www.biodiversitylibrary.org/api/docs/NameSearch.xml">https://www.biodiversitylibrary.org/api/httpquery.ashx?op=NameSearch&amp;name=poa+annua</a></p>
<p>	name - a partial or complete name string</p>
<hr />
<p><b>*** SOAP INTERFACE ***</b></p>
<p>The SOAP interface to the Biodiversity Heritage Library (BHL) API exposes methods for extracting data using SOAP requests.  The WSDL document for the API is available at this location:
    <a href="https://www.biodiversitylibrary.org/api/soap.asmx?wsdl">https://www.biodiversitylibrary.org/api/soap.asmx?wsdl</a> </p>
<p><b>AUTHENTICATION</b></p>
<p>No authentication is required for version 1 of the BHL API.</p>
<p><b>METHODS</b></p>
<p>The SOAP methods that are available generally map to the methods exposed by the HTTP query interface. The methods names are listed below, and a complete description of each method can be found by browsing the information found at 
    <a href="https://www.biodiversitylibrary.org/api/soap.asmx">https://www.biodiversitylibrary.org/api/soap.asmx</a>.</p>
<p>NameCount<br />NameCountBetweenDates<br />NameGetDetail<br />NameList<br />NameListBetweenDates<br />NameSearch<br /></p>

</body>
</html>
